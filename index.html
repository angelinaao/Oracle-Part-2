<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>2 INPUT 1 OUTPUT TEMPLATE</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    
    <style>
        /* Global Reset */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: "Roboto", sans-serif;
            font-optical-sizing: auto;
            font-weight: 100;
            font-style: normal;
            background-color: black; /* Set the initial background color to black */
            transition: background-color 0.3s ease; /* Smooth transition for background color change */
        }

        /* Container to Center the content */
        .container {
            display: flex;
            justify-content: center; /* Center horizontally */
            align-items: center;     /* Center vertically */
            height: 100vh;
            text-align: center;
            flex-direction: column;
            padding-top: 0.3vh;
        }

        /* Flexbox row layout */
        .content {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Style for the input fields */
        #charInput1, #charInput2 {
            font-size: 18px;
            padding: 10px;
            text-align: center;
            margin-right: 10px;  /* Space between input fields */
            width: 4.5vw;
            height: 1.5vh;
            border: 1px solid white;   /* White border */
            background-color: transparent; /* No fill color */
            color: white;               /* White text */
            transition: all 0.3s ease;  /* Smooth transition for focus and hover effect */
        }

        /* Add focus style for input fields */
        #charInput1:focus, #charInput2:focus {
            outline: none;             /* Remove default outline */
            border-color: #3498db;     /* Change border color on focus (optional, you can pick any color) */
            background-color: rgba(52, 152, 219, 0.1); /* Light background color on focus (optional) */
            font-family: "Roboto", sans-serif;
            font-optical-sizing: auto;
            font-weight: 100;
            font-style: normal;
        }

        #submitButton {
            font-family: 'Roboto', sans-serif; /* Use Roboto font */
            font-size: 18px;
            height: 4.3vh;
            cursor: pointer;
            padding-left: 2vw;
            padding-right: 2vw;
            border: 1px solid white;   /* White border */
            background-color: transparent; /* No fill color */
            color: white;               /* White text */
            transition: all 0.3s ease;  /* Smooth transition for hover effect */
        }

        #submitButton:hover {
            background-color: white;    /* White background on hover */
            color: black;               /* Change text color to black on hover */
        }

        .title{
            font-size: 6vh;
            align-items: center;
            justify-content: center;
            text-align: center; 
            color: white;
            font-family: "Roboto", sans-serif;
            font-optical-sizing: auto;
            font-weight: 500;
            font-style: normal;
            font-size: 6.5vh;
        }
        .title-one{
            color: white;
            font-family: "Roboto", sans-serif;
            font-optical-sizing: auto;
            font-weight: 500;
            font-style: normal;
            font-size: 6.5vh;
        }
        h1{
            color: white;
        }
        p{
            margin-bottom: 2vh;
            margin-top: -0.5vh;
        }
        #bottom{
            margin-bottom: 1vh;
            margin-top: 3vh;
        }
        #new{
            padding-bottom: 2vh;
        }
        /* Full-screen black background when input is invalid */
        #errorBackground {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgb(175, 10, 10);
            z-index: 9999; /* Ensure it stays on top of everything else */
            display: none; /* Initially hidden */
        }

        /* Error message styling */
        #errorMessage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 2rem;
            font-family: 'Roboto', sans-serif;
            z-index: 10000; /* Ensure it stays on top of the background */
            text-align: center;
            font-weight: 400;
            font-style: normal;
        }

        #tryAgainButton {
            font-size: 18px;
            padding: 10px 20px;
            border: 1px solid white;
            background-color: transparent;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 30000;
            margin-top: -21vh;
        }

        #tryAgainButton:hover {
            background-color: white;
            color: black;
        }
        img{
            opacity: 0;
            width: 0;
        }

        /* Floating Export Button */
        #exportButton {
            position: fixed; /* Fixed position to make it float */
            bottom: 20px;   /* Position from the bottom */
            right: 20px;    /* Position from the right */
            padding: 10px 20px;
            font-size: 16px;
            border: 1px solid white;
            background-color: black; /* Black background */
            color: white;            /* White text */
            cursor: pointer;
            border-radius: 0;     /* Rounded corners */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* Shadow for floating effect */
            transition: all 0.3s ease; /* Smooth transition for hover effect */
            display: none; /* Initially hidden */
            z-index: 1000; /* Ensure it stays on top of other elements */
        }

        #exportButton:hover {
            background-color: white; /* White background on hover */
            color: black;            /* Black text on hover */
        }
    </style>
</head>
<body>

<div class="container">
    <div class="title-one" id="titleSection">
        <div class="title">
            <p>make your own pattern</p>
        </div>  
        <div class="title">
            <p>make your own pattern</p>
        </div>  
        <div class="title" id="new">
            <p>make your own pattern</p>
        </div>  
    </div>    
    <div class="content">
        <!-- INPUT FIELD FOR 1 CHARACTER -->
        <input type="text" id="charInput1" maxlength="1" placeholder="A-C" pattern="A-C">
        <!-- Updated INPUT FIELD TO ALLOW '10' -->
        <input type="text" id="charInput2" maxlength="2" placeholder="1-10" pattern="[1-9]|10">

        <!-- BUTTON TO DISPLAY IMAGE -->
        <button onclick="displayImage()" id="submitButton">create design</button>

        <!-- IMAGE TO DISPLAY -->
        <img id="displayedImage" src="" alt="Displayed Image">
    </div>
    
    <div class="title">
        <p id="bottom">make your own pattern</p>
    </div> 
    <!-- Floating Export to JPEG Button -->
    <button onclick="exportToJPEG()" id="exportButton">Export to JPEG</button>
    <!-- Full screen black background -->
    <div id="errorBackground"></div>

    <!-- Error message that will be shown on top of the black background -->
    <div id="errorMessage" style="display: none;">
        <p>please enter a value <br>between A-C and 1-10</p>
    </div>

    <!-- Add the Try Again button below the error message -->
    <button id="tryAgainButton" style="display: none;" onclick="resetError()">try again</button>
</div>

<script>
    function displayImage() {
        const imgElement = document.getElementById("displayedImage");
        const input1_letter = document.getElementById("charInput1").value.toUpperCase();
        const input2_number = document.getElementById("charInput2").value;

        // Mapping object to handle the backgrounds and styles dynamically
        const backgrounds = {
            "A1": "A.jpg",
            "A2": "A2.jpg",
            "A3": "A3.jpg",
            "A4": "A4.jpg",
            "A5": "A5.jpg",
            "A6": "A6.jpg",
            "A7": "A7.jpg",
            "A8": "A8.jpg",
            "A9": "A9.jpg",
            "A10": "A10.jpg",
            "B1": "B1.jpg",
            "B2": "B2.jpg",
            "B3": "B3.jpg",
            "B4": "B4.jpg",
            "B5": "B5.jpg",
            "B6": "B6.jpg",
            "B7": "B7.jpg",
            "B8": "B8.jpg",
            "B9": "B9.jpg",
            "B10": "B10.jpg",
            "C1": "C1.jpg",
            "C2": "C2.jpg",
            "C3": "C3.jpg",
            "C4": "C4.jpg",
            "C5": "C5.jpg",
            "C6": "C6.jpg",
            "C7": "C7.jpg",
            "C8": "C8.jpg",
            "C9": "C9.jpg",
            "C10": "C10.jpg",
            // Add more combinations as needed
        };

        // Generate the key from the input values
        const key = input1_letter + input2_number;

        // If the key exists in the backgrounds object, apply the background and styles
        if (backgrounds[key]) {
            document.body.style.backgroundImage = `url('${backgrounds[key]}')`;
            document.body.style.backgroundSize = "cover";
            document.body.style.backgroundPosition = "center";
            document.body.style.backgroundRepeat = "no-repeat";
            imgElement.style.display = "none";
            document.getElementById('titleSection').style.opacity = '0';
            document.getElementById('bottom').style.opacity = '0';
            
            // Handle background color changes based on the first letter
            if (input1_letter === 'A') {
                document.querySelector('.content').style.backgroundColor = "#601212"; // Example color, adjust as needed
            } else if (input1_letter === 'B') {
                document.querySelector('.content').style.backgroundColor = "#D4731F";
            } else if (input1_letter === 'C') {
                document.querySelector('.content').style.backgroundColor = "#DCB420";
            }
        } else {
            // Reset to default if the combination doesn't exist
            document.body.style.backgroundImage = "";
            imgElement.style.display = "block";
            document.getElementById('titleSection').style.opacity = '1';
            document.getElementById('bottom').style.opacity = '1';
        }
        if (input1_letter && input2_number) {
            // Display the Export to JPEG button
            document.getElementById("exportButton").style.display = "block";
        }

        // Check if the input is valid (A-C and 1-10)
        const validInput = /^[A-C]$/.test(input1_letter) && /^[1-9]$|^10$/.test(input2_number);

        if (!validInput) {
            // Show the black background and error message
            document.getElementById("errorBackground").style.display = "block";
            document.getElementById("errorMessage").style.display = "block";
            document.getElementById("tryAgainButton").style.display = "block";

            // Stop further processing if the input is invalid
            document.body.style.backgroundImage = ""; // Remove any background image
            imgElement.style.display = "block"; // Display the placeholder image
            document.getElementById('titleSection').style.opacity = '1';
            document.getElementById('bottom').style.opacity = '1';
            return;
        }

        // If valid, hide the error message and reset the background
        document.getElementById("errorBackground").style.display = "none";
        document.getElementById("errorMessage").style.display = "none";
    }

    function resetError() {
        // Hide the black background and error message completely
        document.getElementById("errorBackground").style.display = "none";
        document.getElementById("errorMessage").style.display = "none";
        document.getElementById("tryAgainButton").style.display = "none"; // Hide the Try Again button
        
        // Reset the background and content visibility
        document.body.style.backgroundImage = ""; // Remove the background image
        document.body.style.backgroundColor = ""; // Reset the background color
        document.getElementById('titleSection').style.opacity = '1'; // Make the title section visible again
        document.getElementById('bottom').style.opacity = '1'; // Make the bottom text visible again
        document.getElementById("exportButton").style.display = "none";
        document.querySelector('.content').style.backgroundColor = "transparent";
    }
</script>

</body>
</html>